{% extends 'browse/base.html' %}

{% block title %}{{ block.super }} | Browse{% endblock title %}

{% block content %}
  <div class="jumbotron text-center">
    <h1>Browse</h1>
    <p>Here are some popular restaurants on Restaurateur right now.</p>
    <p>
      Narrow restaurants by <input type='number' placeholder='ZIP'><input type='submit'>
    </p>
  </div>

  <div class="row">
    {% if restaurants %}
      {% for r in restaurants %}
        <div class="col-sm-6 col-lg-4 text-center">
          <h2>
            <a href="{% url 'browse:restaurant' r.slug %}">{{ r.name }}</a>
          </h2>
          <p>{{ r.locations.count }} locations.</p>
          <div class="row">
            {% for l in r.locations.all|slice:":3" %}
              <div class="col-xs-6 col-lg-4">
                <a href="{% url 'browse:restaurant_location' r.slug l.id %}">{{ l.name }}</a>
              </div>
            {% endfor %}
          </div>
          <p>{{ r.plain_text_description }}</p>
        </div>
      {% endfor %}
    {% else %}
      <div class='alert alert-warning'>An error has occurred.</div>
    {% endif %}
  </div>
{% endblock content %}
